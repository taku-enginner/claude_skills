# Flutter ãƒ†ã‚¹ãƒˆè‡ªå‹•åŒ– ä½¿ã„æ–¹ã‚¬ã‚¤ãƒ‰

Flutterãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã®å®Ÿè£…â†’ãƒ†ã‚¹ãƒˆâ†’ä¿®æ­£ã®è‡ªå‹•åŒ–ãƒ•ãƒ­ãƒ¼ã§ã™ã€‚

## æ¦‚è¦

ã€Œã€‡ã€‡ã‚’å®Ÿè£…ã—ã¦ã€ã¨æŒ‡ç¤ºã™ã‚‹ã ã‘ã§ã€Claude CodeãŒ:

1. æ©Ÿèƒ½ã‚’å®Ÿè£…
2. ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚’è‡ªå‹•ç”Ÿæˆ
3. ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œ
4. å¤±æ•—ã—ãŸã‚‰ä¿®æ­£ã—ã¦å†ãƒ†ã‚¹ãƒˆ
5. æˆåŠŸã™ã‚‹ã¾ã§ç¹°ã‚Šè¿”ã—ï¼ˆæœ€å¤§3å›ï¼‰

ã‚’è‡ªå‹•ã§è¡Œã„ã¾ã™ã€‚

---

## ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### 1. ã‚¹ã‚­ãƒ«ã‚’ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ãƒªãƒ³ã‚¯

```bash
/path/to/claude_skills/setup.sh /path/to/your/flutter/project
```

### 2. ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ç¢ºèª

```bash
# flutter_test ã¯é€šå¸¸ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§å«ã¾ã‚Œã¦ã„ã¾ã™
flutter pub get
```

---

## ä½¿ã„æ–¹

### åŸºæœ¬çš„ãªä½¿ã„æ–¹

Claude Codeã«ä»¥ä¸‹ã®ã‚ˆã†ã«æŒ‡ç¤ºã™ã‚‹ã ã‘:

```
ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³é–¢æ•°ã‚’å®Ÿè£…ã—ã¦
```

Claude CodeãŒè‡ªå‹•ã§:
1. `lib/utils/validator.dart` ã‚’ä½œæˆ
2. `test/utils/validator_test.dart` ã‚’ç”Ÿæˆ
3. ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œ
4. å…¨ãƒ†ã‚¹ãƒˆãŒé€šã‚‹ã¾ã§ä¿®æ­£

### ã‚¹ãƒ©ãƒƒã‚·ãƒ¥ã‚³ãƒãƒ³ãƒ‰

```
/project:implement ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³é–¢æ•°
/project:generate-tests lib/utils/validator.dart
/project:run-tests test/utils/validator_test.dart
```

---

## å€‹åˆ¥ã‚¹ã‚­ãƒ«ã®ä½¿ã„æ–¹

### 1. Dartã‚³ãƒ¼ãƒ‰è§£æ (analyze_dart.py)

```bash
# å˜ä¸€ãƒ•ã‚¡ã‚¤ãƒ«
python .claude_skills/code/analyze_dart.py lib/utils/validator.dart

# ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå…¨ä½“
python .claude_skills/code/analyze_dart.py lib/ --recursive

# JSONå‡ºåŠ›
python .claude_skills/code/analyze_dart.py lib/models/user.dart --json
```

å‡ºåŠ›ä¾‹:
```
============================================================
Dartè§£æçµæœ: lib/utils/validator.dart
============================================================

import: 2ä»¶

ãƒˆãƒƒãƒ—ãƒ¬ãƒ™ãƒ«é–¢æ•°: 3ä»¶
  - bool validateEmail(String email) [line 5]
      /// ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’æ¤œè¨¼ã—ã¾ã™...
  - bool validatePhone(String phone) [line 15]
  - String formatName(String name) [line 25]

ã‚¯ãƒ©ã‚¹: 1ä»¶
  - class Validator [line 30]
      ãƒ¡ã‚½ãƒƒãƒ‰: 2ä»¶ (public), 1ä»¶ (private)
        - validate(String input)
        - isValid()

------------------------------------------------------------
ãƒ†ã‚¹ãƒˆå¯¾è±¡å€™è£œ
------------------------------------------------------------
  ãƒˆãƒƒãƒ—ãƒ¬ãƒ™ãƒ«é–¢æ•°: 3ä»¶
  ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰: 2ä»¶
  åˆè¨ˆ: 5ä»¶
```

### 2. ãƒ†ã‚¹ãƒˆç”Ÿæˆ (generate_tests.py)

```bash
# ãƒ†ã‚¹ãƒˆã‚’ç”Ÿæˆ
python .claude_skills/code/generate_tests.py lib/utils/validator.dart

# ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã®ã¿ï¼ˆãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆãªã—ï¼‰
python .claude_skills/code/generate_tests.py lib/utils/validator.dart --dry-run

# å‡ºåŠ›å…ˆã‚’æŒ‡å®š
python .claude_skills/code/generate_tests.py lib/utils/validator.dart --output test/custom_test.dart

# æ—¢å­˜ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¸Šæ›¸ã
python .claude_skills/code/generate_tests.py lib/utils/validator.dart --force
```

ç”Ÿæˆã•ã‚Œã‚‹ãƒ†ã‚¹ãƒˆã®ç¨®é¡:
- **æ­£å¸¸ç³»**: æœ‰åŠ¹ãªå…¥åŠ›ã§ã®å‹•ä½œç¢ºèª
- **å¢ƒç•Œå€¤**: ç©ºæ–‡å­—ã€ã‚¼ãƒ­ã€ç©ºãƒªã‚¹ãƒˆãªã©
- **ç•°å¸¸ç³»**: nullã€ä¸æ­£ãªå‹ãªã©
- **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£**: XSSã€SQLã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³æ–‡å­—åˆ—

### 3. ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ (run_tests.py)

```bash
# å…¨ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
python .claude_skills/code/run_tests.py

# ç‰¹å®šã®ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«
python .claude_skills/code/run_tests.py test/utils/validator_test.dart

# ã‚«ãƒãƒ¬ãƒƒã‚¸ä»˜ã
python .claude_skills/code/run_tests.py --coverage

# è©³ç´°å‡ºåŠ›
python .claude_skills/code/run_tests.py --verbose

# JSONå‡ºåŠ›
python .claude_skills/code/run_tests.py --json
```

å‡ºåŠ›ä¾‹:
```
============================================================
ãƒ†ã‚¹ãƒˆå®Ÿè¡Œãƒ¬ãƒãƒ¼ãƒˆ
============================================================

å®Ÿè¡Œæ—¥æ™‚: 2026-01-26T15:30:00
ã‚³ãƒãƒ³ãƒ‰: flutter test test/utils/validator_test.dart

## ã‚µãƒãƒªãƒ¼
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  âœ… åˆè¨ˆ: 12ä»¶
  âœ… æˆåŠŸ: 11ä»¶
  âŒ å¤±æ•—: 1ä»¶

  æˆåŠŸç‡: 91.7%
  å®Ÿè¡Œæ™‚é–“: 2.35ç§’

## å¤±æ•—ã—ãŸãƒ†ã‚¹ãƒˆ (1ä»¶)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

  1. validateEmail > validateEmail_æ—¥æœ¬èªãƒ‰ãƒ¡ã‚¤ãƒ³_falseã‚’è¿”ã™
     ğŸ“ test/utils/validator_test.dart:45
     âŒ Expected: false
     âŒ Actual: true

## æ¨å¥¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  1. å¤±æ•—ã—ãŸãƒ†ã‚¹ãƒˆã®ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç¢ºèª
  2. è©²å½“ã™ã‚‹ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’ä¿®æ­£
  3. ãƒ†ã‚¹ãƒˆã‚’å†å®Ÿè¡Œã—ã¦ç¢ºèª

  æœ€åˆã«ç¢ºèªã™ã¹ããƒ•ã‚¡ã‚¤ãƒ«:
    test/utils/validator_test.dart:45
```

---

## è‡ªå‹•ãƒ•ãƒ­ãƒ¼ã®è©³ç´°

### ãƒ•ãƒ­ãƒ¼å›³

```
ãƒ¦ãƒ¼ã‚¶ãƒ¼: ã€Œã€‡ã€‡ã‚’å®Ÿè£…ã—ã¦ã€
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. å®Ÿè£…            â”‚
â”‚  lib/xxx.dart ä½œæˆ  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  2. ãƒ†ã‚¹ãƒˆç”Ÿæˆ      â”‚
â”‚  test/xxx_test.dart â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  3. ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ      â”‚
â”‚  flutter test       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
    â”‚ çµæœã¯ï¼Ÿ â”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
         â”‚
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
    â”‚         â”‚
 æˆåŠŸ      å¤±æ•—
    â”‚         â”‚
    â–¼         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å®Œäº†  â”‚ â”‚ ä¿®æ­£        â”‚
â”‚ å ±å‘Š  â”‚ â”‚ (æœ€å¤§3å›)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                â”‚
           â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
           â”‚ 3å›ç›®ï¼Ÿ â”‚
           â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
                â”‚
           Yes  â”‚  No
                â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                       â”‚
    â–¼                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ãƒ¦ãƒ¼ã‚¶ãƒ¼ â”‚          â”‚ å†ãƒ†ã‚¹ãƒˆ â”‚
â”‚ ã«ç›¸è«‡  â”‚          â”‚ (3ã¸æˆ»ã‚‹) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3å›å¤±æ•—æ™‚ã®ç›¸è«‡ä¾‹

```
## ãƒ†ã‚¹ãƒˆãŒ3å›å¤±æ•—ã—ã¾ã—ãŸ

### å¤±æ•—ã—ã¦ã„ã‚‹ãƒ†ã‚¹ãƒˆ
- validateEmail_æ—¥æœ¬èªãƒ‰ãƒ¡ã‚¤ãƒ³_falseã‚’è¿”ã™
  Expected: false, Actual: true

### è©¦ã—ãŸä¿®æ­£
1. æ­£è¦è¡¨ç¾ã«ASCIIãƒã‚§ãƒƒã‚¯ã‚’è¿½åŠ  â†’ ä»–ã®ãƒ†ã‚¹ãƒˆãŒå¤±æ•—
2. ãƒ‰ãƒ¡ã‚¤ãƒ³éƒ¨åˆ†ã®ã¿ASCIIãƒã‚§ãƒƒã‚¯ â†’ éƒ¨åˆ†çš„ã«æˆåŠŸ
3. IDNAãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®å°å…¥ã‚’æ¤œè¨ â†’ ä¾å­˜é–¢ä¿‚ã®å•é¡Œ

### è€ƒãˆã‚‰ã‚Œã‚‹åŸå› 
- æ—¥æœ¬èªãƒ‰ãƒ¡ã‚¤ãƒ³ï¼ˆå›½éš›åŒ–ãƒ‰ãƒ¡ã‚¤ãƒ³åï¼‰ã®æ‰±ã„ãŒä¸æ˜ç¢º
- ä»•æ§˜ã¨ã—ã¦è¨±å¯ã™ã‚‹ã‹æ‹’å¦ã™ã‚‹ã‹ãŒæœªå®šç¾©

### è³ªå•
æ—¥æœ¬èªãƒ‰ãƒ¡ã‚¤ãƒ³ï¼ˆä¾‹: user@ä¾‹ãˆ.jpï¼‰ã¯:
1. è¨±å¯ã™ã‚‹ï¼ˆtrueã‚’è¿”ã™ï¼‰
2. æ‹’å¦ã™ã‚‹ï¼ˆfalseã‚’è¿”ã™ï¼‰
3. Punycodeå¤‰æ›å¾Œã«æ¤œè¨¼ã™ã‚‹

ã©ã®ã‚ˆã†ã«å¯¾å¿œã—ã¾ã™ã‹ï¼Ÿ
```

---

## ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

ç”Ÿæˆã•ã‚ŒãŸãƒ†ã‚¹ãƒˆã¯è‡ªå‹•ç”Ÿæˆã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§ã™ã€‚
å¿…è¦ã«å¿œã˜ã¦ä»¥ä¸‹ã‚’è¿½åŠ ã—ã¦ãã ã•ã„:

### ãƒ¢ãƒƒã‚¯ã®è¿½åŠ 

```dart
import 'package:mockito/mockito.dart';

class MockApiClient extends Mock implements ApiClient {}

void main() {
  late MockApiClient mockClient;

  setUp(() {
    mockClient = MockApiClient();
  });

  // ...
}
```

### éåŒæœŸãƒ†ã‚¹ãƒˆ

```dart
test('fetchUser returns user', () async {
  // Arrange
  when(mockClient.get(any)).thenAnswer((_) async => Response(data: userData));

  // Act
  final result = await userRepository.fetchUser('123');

  // Assert
  expect(result.name, equals('John'));
});
```

### Widget ãƒ†ã‚¹ãƒˆ

```dart
testWidgets('LoginButton shows loading', (tester) async {
  await tester.pumpWidget(MaterialApp(home: LoginButton()));

  await tester.tap(find.byType(ElevatedButton));
  await tester.pump();

  expect(find.byType(CircularProgressIndicator), findsOneWidget);
});
```

---

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### FlutterãŒè¦‹ã¤ã‹ã‚‰ãªã„

```
ã‚¨ãƒ©ãƒ¼: FlutterãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“
```

è§£æ±ºç­–:
```bash
# PATHã«Flutterã‚’è¿½åŠ 
export PATH="$PATH:/path/to/flutter/bin"
```

### ãƒ†ã‚¹ãƒˆãŒã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ

```
ãƒ†ã‚¹ãƒˆãŒã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã—ã¾ã—ãŸï¼ˆ5åˆ†ï¼‰
```

è§£æ±ºç­–:
- ãƒ†ã‚¹ãƒˆå¯¾è±¡ã‚’çµã‚‹
- é‡ã„å‡¦ç†ã‚’ãƒ¢ãƒƒã‚¯åŒ–

### ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒè¦‹ã¤ã‹ã‚‰ãªã„

```
Error: Could not find package 'flutter_test'
```

è§£æ±ºç­–:
```bash
flutter pub get
```
